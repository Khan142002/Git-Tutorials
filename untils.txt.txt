untility function for version 2